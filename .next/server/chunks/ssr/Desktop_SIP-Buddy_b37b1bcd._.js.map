{"version":3,"sources":["../../../../../../Desktop/SIP-Buddy/components/NotificationModal.tsx","../../../../../../Desktop/SIP-Buddy/components/MyPlansContent.tsx","../../../../../../Desktop/SIP-Buddy/app/my-plans/page.tsx"],"sourcesContent":["import React from 'react';\r\nimport { IconInfoCircle } from './Icons';\r\n\r\ninterface NotificationModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title: string;\r\n  message: string;\r\n  children?: React.ReactNode;\r\n}\r\n\r\nconst NotificationModal: React.FC<NotificationModalProps> = ({ isOpen, onClose, title, message, children }) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-50 flex justify-center items-center p-4 animate-fade-in\"\r\n      onClick={onClose}\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-labelledby=\"notification-title\"\r\n    >\r\n      <div\r\n        className=\"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 text-center animate-modal-pop-in\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 mb-4\">\r\n          <IconInfoCircle className=\"h-6 w-6 text-blue-600\" />\r\n        </div>\r\n        <h2 id=\"notification-title\" className=\"text-xl font-semibold text-slate-800 mb-2\">{title}</h2>\r\n        <p className=\"text-slate-600 mb-6\">{message}</p>\r\n        \r\n        {children ? (\r\n          <div>{children}</div>\r\n        ) : (\r\n          <button\r\n            onClick={onClose}\r\n            className=\"w-full bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\r\n          >\r\n            Got it\r\n          </button>\r\n        )}\r\n      </div>\r\n      <style>{`\r\n        @keyframes fade-in {\r\n          from { opacity: 0; }\r\n          to { opacity: 1; }\r\n        }\r\n        @keyframes modal-pop-in {\r\n          from { opacity: 0; transform: scale(0.95); }\r\n          to { opacity: 1; transform: scale(1); }\r\n        }\r\n        .animate-fade-in {\r\n          animation: fade-in 0.2s ease-out;\r\n        }\r\n        .animate-modal-pop-in {\r\n            animation: modal-pop-in 0.2s ease-out;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationModal;","import React, { useState, useEffect } from 'react';\r\nimport { getUserPlans, deletePlan } from '../services/firestoreService';\r\nimport { SavedPlan } from '../types';\r\nimport { IconListDetails, IconTrash, IconInfoCircle } from '../components/Icons';\r\nimport NotificationModal from '../components/NotificationModal';\r\nimport { useGlobalContext } from '../context/GlobalContext';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nconst MyPlans: React.FC = () => {\r\n    const { handleViewPlan } = useGlobalContext();\r\n    const router = useRouter();\r\n\r\n    const [plans, setPlans] = useState<SavedPlan[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [planToDelete, setPlanToDelete] = useState<SavedPlan | null>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchPlans = async () => {\r\n            try {\r\n                const userPlans = await getUserPlans();\r\n                setPlans(userPlans);\r\n            } catch (err) {\r\n                setError(err instanceof Error ? err.message : 'Could not fetch plans.');\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n        fetchPlans();\r\n    }, []);\r\n\r\n    const handleDelete = async () => {\r\n        if (!planToDelete) return;\r\n        try {\r\n            await deletePlan(planToDelete.id);\r\n            setPlans(plans.filter(p => p.id !== planToDelete.id));\r\n            setPlanToDelete(null);\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Could not delete plan.');\r\n        }\r\n    };\r\n\r\n    const formatDate = (timestamp: { seconds: number }) => {\r\n        if (!timestamp) return 'Date not available';\r\n        return new Date(timestamp.seconds * 1000).toLocaleDateString('en-IN', {\r\n            day: 'numeric',\r\n            month: 'long',\r\n            year: 'numeric'\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-4xl mx-auto\">\r\n            <div className=\"flex items-center gap-4 mb-8\">\r\n                <IconListDetails className=\"h-10 w-10 text-slate-500\" />\r\n                <div>\r\n                    <h1 className=\"text-2xl sm:text-3xl font-bold text-slate-900\">My Saved Plans</h1>\r\n                    <p className=\"text-slate-600\">View, compare, or delete your saved investment plans.</p>\r\n                </div>\r\n            </div>\r\n\r\n            {isLoading && (\r\n                <div className=\"text-center p-8 text-slate-500\">\r\n                    <div className=\"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4\"></div>\r\n                    Loading your saved plans...\r\n                </div>\r\n            )}\r\n\r\n            {error && <p className=\"text-center p-4 bg-red-100 text-red-700 rounded-md\">{error}</p>}\r\n\r\n            {!isLoading && !error && plans.length === 0 && (\r\n                <div className=\"text-center p-12 bg-white rounded-xl shadow-md border border-slate-200\">\r\n                    <IconInfoCircle className=\"h-12 w-12 text-slate-400 mx-auto mb-4\" />\r\n                    <h3 className=\"text-xl font-semibold text-slate-800\">No Saved Plans Yet</h3>\r\n                    <p className=\"text-slate-500 mt-2\">Create a new plan from the 'Planner' page to see it here.</p>\r\n                </div>\r\n            )}\r\n\r\n            {!isLoading && !error && plans.length > 0 && (\r\n                <div className=\"bg-white p-6 rounded-xl shadow-lg border border-slate-200\">\r\n                    <ul className=\"divide-y divide-slate-200\">\r\n                        {plans.map(plan => (\r\n                            <li key={plan.id} className=\"py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n                                <div>\r\n                                    <h3 className=\"font-semibold text-lg text-slate-800\">{plan.planName}</h3>\r\n                                    <p className=\"text-sm text-slate-500\">Saved on: {formatDate(plan.createdAt)}</p>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n                                    <button\r\n                                        onClick={() => handleViewPlan(plan)}\r\n                                        className=\"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-sm hover:bg-blue-700 transition-colors text-sm\"\r\n                                    >\r\n                                        View Plan\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => setPlanToDelete(plan)}\r\n                                        className=\"p-2 text-slate-500 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors\"\r\n                                    >\r\n                                        <IconTrash className=\"h-5 w-5\" />\r\n                                    </button>\r\n                                </div>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n\r\n            <NotificationModal\r\n                isOpen={!!planToDelete}\r\n                onClose={() => setPlanToDelete(null)}\r\n                title=\"Confirm Deletion\"\r\n                message={`Are you sure you want to permanently delete the plan named \"${planToDelete?.planName}\"? This action cannot be undone.`}\r\n            >\r\n                <div className=\"mt-4 flex gap-4\">\r\n                    <button onClick={() => setPlanToDelete(null)} className=\"flex-1 px-4 py-2 bg-slate-200 text-slate-800 font-semibold rounded-lg hover:bg-slate-300\">\r\n                        Cancel\r\n                    </button>\r\n                    <button onClick={handleDelete} className=\"flex-1 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700\">\r\n                        Delete\r\n                    </button>\r\n                </div>\r\n            </NotificationModal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyPlans;","'use client';\r\n\r\nimport MyPlans from '../../components/MyPlansContent';\r\n\r\nexport default function MyPlansPage() {\r\n    return <MyPlans />;\r\n}\r\n"],"names":[],"mappings":"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"}