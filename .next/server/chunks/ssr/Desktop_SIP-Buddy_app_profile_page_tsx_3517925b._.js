module.exports=[76989,a=>{"use strict";var b=a.i(48374),c=a.i(67031);a.i(32537);var d=a.i(10041),e=a.i(78339),f=a.i(60879),g=a.i(92994),h=a.i(77741);let i=()=>{let{user:a,handleLogout:i,handleProfileUpdate:j}=(0,h.useGlobalContext)(),[k,l]=(0,c.useState)(a?.displayName||""),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(null);if((0,c.useEffect)(()=>{a&&l(a.displayName||"")},[a]),!a)return(0,b.jsx)("div",{children:"Loading profile..."});let s=async b=>{if(b.preventDefault(),e.auth.currentUser&&k!==a.displayName){n(!0),p(null),r(null);try{await (0,d.updateProfile)(e.auth.currentUser,{displayName:k}),await (0,f.updateUserProfileDocument)(a.uid,{displayName:k}),e.auth.currentUser&&j(e.auth.currentUser),r("Display name updated successfully!")}catch(a){p(a instanceof Error?a.message:"An unknown error occurred.")}finally{n(!1),setTimeout(()=>r(null),3e3)}}};return(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Profile Settings"}),(0,b.jsx)("p",{className:"text-slate-600",children:"Manage your account details."})]}),(0,b.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-slate-200",children:[o&&(0,b.jsx)("p",{className:"bg-red-100 text-red-700 p-3 rounded-md text-sm mb-4",children:o}),q&&(0,b.jsx)("p",{className:"bg-green-100 text-green-700 p-3 rounded-md text-sm mb-4",children:q}),(0,b.jsxs)("form",{onSubmit:s,className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex flex-col items-center space-y-4",children:(0,b.jsx)("div",{className:"relative",children:a.photoURL?(0,b.jsx)("img",{src:a.photoURL,alt:"Profile",className:"w-24 h-24 sm:w-28 sm:h-28 rounded-full object-cover ring-4 ring-slate-200"}):(0,b.jsx)("div",{className:"w-24 h-24 sm:w-28 sm:h-28 rounded-full bg-slate-200 flex items-center justify-center ring-4 ring-slate-200",children:(0,b.jsx)(g.IconUser,{className:"h-12 w-12 sm:h-14 sm:w-14 text-slate-500"})})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-slate-700",children:"Display Name"}),(0,b.jsxs)("div",{className:"relative mt-1",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,b.jsx)(g.IconUser,{className:"h-5 w-5 text-slate-400"})}),(0,b.jsx)("input",{type:"text",id:"displayName",value:k,onChange:a=>l(a.target.value),className:"w-full pl-10 pr-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative mt-1",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,b.jsx)(g.IconMail,{className:"h-5 w-5 text-slate-400"})}),(0,b.jsx)("input",{type:"email",id:"email",value:a.email||"",disabled:!0,className:"w-full pl-10 pr-3 py-2 bg-slate-100 border border-slate-300 rounded-md shadow-sm text-slate-500 cursor-not-allowed"})]})]}),(0,b.jsx)("div",{className:"pt-4 border-t border-slate-200 flex justify-end",children:(0,b.jsx)("button",{type:"submit",disabled:m||k===a.displayName,className:"w-full sm:w-auto flex justify-center items-center gap-2 py-2.5 px-6 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed",children:m?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):"Save Changes"})})]}),(0,b.jsx)("div",{className:"mt-8 pt-6 border-t border-slate-200",children:(0,b.jsxs)("button",{type:"button",onClick:i,className:"w-full sm:w-auto flex justify-center items-center gap-2 py-2.5 px-6 bg-red-50 text-red-600 font-semibold rounded-lg hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[(0,b.jsx)(g.IconLogout,{className:"w-5 w-5"}),"Logout"]})})]})]})};function j(){return(0,b.jsx)(i,{})}a.s(["default",()=>j],76989)}];

//# sourceMappingURL=Desktop_SIP-Buddy_app_profile_page_tsx_3517925b._.js.map