(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4211,e=>{"use strict";var s=e.i(96876),t=e.i(15616);e.i(25473);var l=e.i(11448),a=e.i(6894),r=e.i(9399),i=e.i(5787),n=e.i(7894);let o=()=>{let{user:e,handleLogout:o,handleProfileUpdate:d}=(0,n.useGlobalContext)(),[c,u]=(0,t.useState)(e?.displayName||""),[m,x]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[b,p]=(0,t.useState)(null);if((0,t.useEffect)(()=>{e&&u(e.displayName||"")},[e]),!e)return(0,s.jsx)("div",{children:"Loading profile..."});let g=async s=>{if(s.preventDefault(),a.auth.currentUser&&c!==e.displayName){x(!0),f(null),p(null);try{await (0,l.updateProfile)(a.auth.currentUser,{displayName:c}),await (0,r.updateUserProfileDocument)(e.uid,{displayName:c}),a.auth.currentUser&&d(a.auth.currentUser),p("Display name updated successfully!")}catch(e){f(e instanceof Error?e.message:"An unknown error occurred.")}finally{x(!1),setTimeout(()=>p(null),3e3)}}};return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Profile Settings"}),(0,s.jsx)("p",{className:"text-slate-600",children:"Manage your account details."})]}),(0,s.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-slate-200",children:[h&&(0,s.jsx)("p",{className:"bg-red-100 text-red-700 p-3 rounded-md text-sm mb-4",children:h}),b&&(0,s.jsx)("p",{className:"bg-green-100 text-green-700 p-3 rounded-md text-sm mb-4",children:b}),(0,s.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex flex-col items-center space-y-4",children:(0,s.jsx)("div",{className:"relative",children:e.photoURL?(0,s.jsx)("img",{src:e.photoURL,alt:"Profile",className:"w-24 h-24 sm:w-28 sm:h-28 rounded-full object-cover ring-4 ring-slate-200"}):(0,s.jsx)("div",{className:"w-24 h-24 sm:w-28 sm:h-28 rounded-full bg-slate-200 flex items-center justify-center ring-4 ring-slate-200",children:(0,s.jsx)(i.IconUser,{className:"h-12 w-12 sm:h-14 sm:w-14 text-slate-500"})})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-slate-700",children:"Display Name"}),(0,s.jsxs)("div",{className:"relative mt-1",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(i.IconUser,{className:"h-5 w-5 text-slate-400"})}),(0,s.jsx)("input",{type:"text",id:"displayName",value:c,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email Address"}),(0,s.jsxs)("div",{className:"relative mt-1",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(i.IconMail,{className:"h-5 w-5 text-slate-400"})}),(0,s.jsx)("input",{type:"email",id:"email",value:e.email||"",disabled:!0,className:"w-full pl-10 pr-3 py-2 bg-slate-100 border border-slate-300 rounded-md shadow-sm text-slate-500 cursor-not-allowed"})]})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-slate-200 flex justify-end",children:(0,s.jsx)("button",{type:"submit",disabled:m||c===e.displayName,className:"w-full sm:w-auto flex justify-center items-center gap-2 py-2.5 px-6 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed",children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):"Save Changes"})})]}),(0,s.jsx)("div",{className:"mt-8 pt-6 border-t border-slate-200",children:(0,s.jsxs)("button",{type:"button",onClick:o,className:"w-full sm:w-auto flex justify-center items-center gap-2 py-2.5 px-6 bg-red-50 text-red-600 font-semibold rounded-lg hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[(0,s.jsx)(i.IconLogout,{className:"w-5 w-5"}),"Logout"]})})]})]})};function d(){return(0,s.jsx)(o,{})}e.s(["default",()=>d],4211)}]);