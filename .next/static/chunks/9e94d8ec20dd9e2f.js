(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78385,e=>{"use strict";var t=e.i(96876),s=e.i(5787);e.s(["default",0,({isOpen:e,onClose:l,title:a,message:n,children:i})=>e?(0,t.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-50 flex justify-center items-center p-4 animate-fade-in",onClick:l,role:"dialog","aria-modal":"true","aria-labelledby":"notification-title",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 text-center animate-modal-pop-in",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 mb-4",children:(0,t.jsx)(s.IconInfoCircle,{className:"h-6 w-6 text-blue-600"})}),(0,t.jsx)("h2",{id:"notification-title",className:"text-xl font-semibold text-slate-800 mb-2",children:a}),(0,t.jsx)("p",{className:"text-slate-600 mb-6",children:n}),i?(0,t.jsx)("div",{children:i}):(0,t.jsx)("button",{onClick:l,className:"w-full bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Got it"})]}),(0,t.jsx)("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes modal-pop-in {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in {
          animation: fade-in 0.2s ease-out;
        }
        .animate-modal-pop-in {
            animation: modal-pop-in 0.2s ease-out;
        }
      `})]}):null])},39095,e=>{"use strict";var t=e.i(96876),s=e.i(15616),l=e.i(9399),a=e.i(5787),n=e.i(78385),i=e.i(7894),o=e.i(69702);let r=()=>{let{handleViewPlan:e}=(0,i.useGlobalContext)();(0,o.useRouter)();let[r,d]=(0,s.useState)([]),[c,m]=(0,s.useState)(!0),[x,u]=(0,s.useState)(null),[h,b]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{let e=await (0,l.getUserPlans)();d(e)}catch(e){u(e instanceof Error?e.message:"Could not fetch plans.")}finally{m(!1)}})()},[]);let f=async()=>{if(h)try{await (0,l.deletePlan)(h.id),d(r.filter(e=>e.id!==h.id)),b(null)}catch(e){u(e instanceof Error?e.message:"Could not delete plan.")}};return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,t.jsx)(a.IconListDetails,{className:"h-10 w-10 text-slate-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"My Saved Plans"}),(0,t.jsx)("p",{className:"text-slate-600",children:"View, compare, or delete your saved investment plans."})]})]}),c&&(0,t.jsxs)("div",{className:"text-center p-8 text-slate-500",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),"Loading your saved plans..."]}),x&&(0,t.jsx)("p",{className:"text-center p-4 bg-red-100 text-red-700 rounded-md",children:x}),!c&&!x&&0===r.length&&(0,t.jsxs)("div",{className:"text-center p-12 bg-white rounded-xl shadow-md border border-slate-200",children:[(0,t.jsx)(a.IconInfoCircle,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-800",children:"No Saved Plans Yet"}),(0,t.jsx)("p",{className:"text-slate-500 mt-2",children:"Create a new plan from the 'Planner' page to see it here."})]}),!c&&!x&&r.length>0&&(0,t.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-slate-200",children:(0,t.jsx)("ul",{className:"divide-y divide-slate-200",children:r.map(s=>{var l;return(0,t.jsxs)("li",{className:"py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg text-slate-800",children:s.planName}),(0,t.jsxs)("p",{className:"text-sm text-slate-500",children:["Saved on: ",(l=s.createdAt)?new Date(1e3*l.seconds).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"}):"Date not available"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,t.jsx)("button",{onClick:()=>e(s),className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-sm hover:bg-blue-700 transition-colors text-sm",children:"View Plan"}),(0,t.jsx)("button",{onClick:()=>b(s),className:"p-2 text-slate-500 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors",children:(0,t.jsx)(a.IconTrash,{className:"h-5 w-5"})})]})]},s.id)})})}),(0,t.jsx)(n.default,{isOpen:!!h,onClose:()=>b(null),title:"Confirm Deletion",message:`Are you sure you want to permanently delete the plan named "${h?.planName}"? This action cannot be undone.`,children:(0,t.jsxs)("div",{className:"mt-4 flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>b(null),className:"flex-1 px-4 py-2 bg-slate-200 text-slate-800 font-semibold rounded-lg hover:bg-slate-300",children:"Cancel"}),(0,t.jsx)("button",{onClick:f,className:"flex-1 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700",children:"Delete"})]})})]})};function d(){return(0,t.jsx)(r,{})}e.s(["default",()=>d],39095)}]);